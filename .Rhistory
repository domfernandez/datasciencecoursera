prLn1 <- sprintf("% 2d", as.numeric(i))
print(paste(prLn1, sprintf("% 4d", as.numeric(obsCount)), sep=" "))
print(dataReturn)
i<-i+1
}
}
complete("specdata", c(6,10,20,34,100,200,310))
complete <- function(directory, id = 1:332){
dirName <- directory
filesInDir <- list.files(dirName,full.names=T)
dataComplete <- data.frame()
numberOfRows <- length(id)
dataReturn <- data.frame(x=numeric(numberOfRows), y=numeric, stringsAsFactors=F)
obsCount <- numeric(0)
print(paste(" id", "nobs", collapse = " "))
for (i in id) {
filePath <-paste(directory, "/", sprintf("%03d", as.numeric(i)), ".csv", sep="")
dataComplete <-read.csv(filePath, header = T)
obsCount <- sum(complete.cases(dataComplete))
prLn1 <- sprintf("% 2d", as.numeric(i))
print(paste(prLn1, sprintf("% 4d", as.numeric(obsCount)), sep=" "))
dataReturn <- rbind(dataReturn, data.frame(x = i, y = obsCount))
i<-i+1
}
}
complete("specdata", c(6,10,20,34,100,200,310))
source('~/GitHub/datasciencecoursera/complete.r')
complete <- function(directory, id = 1:332){
dirName <- directory
filesInDir <- list.files(dirName,full.names=T)
dataComplete <- data.frame()
numberOfRows <- length(id)
dataReturn <- data.frame(x=numeric(numberOfRows), y=character(), stringsAsFactors=F)
obsCount <- numeric(0)
print(paste(" id", "nobs", collapse = " "))
for (i in id) {
filePath <-paste(directory, "/", sprintf("%03d", as.numeric(i)), ".csv", sep="")
dataComplete <-read.csv(filePath, header = T)
obsCount <- sum(complete.cases(dataComplete))
prLn1 <- sprintf("% 2d", as.numeric(i))
print(paste(prLn1, sprintf("% 4d", as.numeric(obsCount)), sep=" "))
dataReturn$x[i] <- i
dataReturn$y[i] <- toString(obsCount)
i<-i+1
}
dataReturn
}
complete("specdata", c(6,10,20,34,100,200,310))
complete <- function(directory, id = 1:332){
dirName <- directory
filesInDir <- list.files(dirName,full.names=T)
dataComplete <- data.frame()
numberOfRows <- length(id)
dataReturn <- data.frame(x=numeric(numberOfRows), y=numeric(numberOfRows), stringsAsFactors=F)
obsCount <- numeric(0)
print(paste(" id", "nobs", collapse = " "))
for (i in id) {
filePath <-paste(directory, "/", sprintf("%03d", as.numeric(i)), ".csv", sep="")
dataComplete <-read.csv(filePath, header = T)
obsCount <- sum(complete.cases(dataComplete))
prLn1 <- sprintf("% 2d", as.numeric(i))
print(paste(prLn1, sprintf("% 4d", as.numeric(obsCount)), sep=" "))
dataReturn$x[i] <- i
dataReturn$y[i] <- toString(obsCount)
i<-i+1
}
dataReturn
}
complete("specdata", c(6,10,20,34,100,200,310))
c(6,10,20,34,100,200,310)
length(c)
complete <- function(directory, id = 1:332){
dirName <- directory
filesInDir <- list.files(dirName,full.names=T)
dataComplete <- data.frame()
numberOfRows <- length(id)
dataReturn <- data.frame(x=332, y=332, stringsAsFactors=F)
obsCount <- numeric(0)
print(paste(" id", "nobs", collapse = " "))
for (i in id) {
filePath <-paste(directory, "/", sprintf("%03d", as.numeric(i)), ".csv", sep="")
dataComplete <-read.csv(filePath, header = T)
obsCount <- sum(complete.cases(dataComplete))
prLn1 <- sprintf("% 2d", as.numeric(i))
print(paste(prLn1, sprintf("% 4d", as.numeric(obsCount)), sep=" "))
dataReturn$x[i] <- i
dataReturn$y[i] <- toString(obsCount)
i<-i+1
}
dataReturn
}
complete("specdata", c(6,10,20,34,100,200,310))
source('~/GitHub/datasciencecoursera/complete.r')
complete <- function(directory, id = 1:332){
dirName <- directory
filesInDir <- list.files(dirName,full.names=T)
dataComplete <- data.frame()
numberOfRows <- length(id)
dataReturn <- data.frame(x=numeric(), y=character(), stringsAsFactors=F)
obsCount <- numeric(0)
print(paste(" id", "nobs", collapse = " "))
for (i in id) {
filePath <-paste(directory, "/", sprintf("%03d", as.numeric(i)), ".csv", sep="")
dataComplete <-read.csv(filePath, header = T)
obsCount <- sum(complete.cases(dataComplete))
prLn1 <- sprintf("% 2d", as.numeric(i))
print(paste(prLn1, sprintf("% 4d", as.numeric(obsCount)), sep=" "))
dataReturn$x[i] <- i
dataReturn$y[i] <- toString(obsCount)
i<-i+1
}
dataReturn
}
complete("specdata", c(6,10,20,34,100,200,310))
complete <- function(directory, id = 1:332){
dirName <- directory
filesInDir <- list.files(dirName,full.names=T)
dataComplete <- data.frame()
numberOfRows <- length(id)
dataReturn <- data.frame(x=numeric(), y=character(), stringsAsFactors=F)
obsCount <- numeric(0)
print(paste(" id", "nobs", collapse = " "))
for (i in id) {
filePath <-paste(directory, "/", sprintf("%03d", as.numeric(i)), ".csv", sep="")
dataComplete <-read.csv(filePath, header = T)
obsCount <- sum(complete.cases(dataComplete))
prLn1 <- sprintf("% 2d", as.numeric(i))
print(paste(prLn1, sprintf("% 4d", as.numeric(obsCount)), sep=" "))
dataReturrn <- rbind(dataReturn, data.frame(x = toString(i), y = obsCount)
i<-i+1
}
dataReturn
}
complete <- function(directory, id = 1:332){
dirName <- directory
filesInDir <- list.files(dirName,full.names=T)
dataComplete <- data.frame()
numberOfRows <- length(id)
dataReturn <- data.frame(x=numeric(), y=character(), stringsAsFactors=F)
obsCount <- numeric(0)
print(paste(" id", "nobs", collapse = " "))
for (i in id) {
filePath <-paste(directory, "/", sprintf("%03d", as.numeric(i)), ".csv", sep="")
dataComplete <-read.csv(filePath, header = T)
obsCount <- sum(complete.cases(dataComplete))
prLn1 <- sprintf("% 2d", as.numeric(i))
print(paste(prLn1, sprintf("% 4d", as.numeric(obsCount)), sep=" "))
dataReturrn <- rbind(dataReturn, data.frame(x = toString(i), y = obsCount))
i<-i+1
}
dataReturn
}
source('~/GitHub/datasciencecoursera/complete.r')
complete("specdata", c(6,10,20,34,100,200,310))
xxx <- complete("specdata", c(6,10,20,34,100,200,310))
str(xxx)
complete <- function(directory, id = 1:332){
dirName <- directory
filesInDir <- list.files(dirName,full.names=T)
dataComplete <- data.frame()
numberOfRows <- length(id)
dataReturn <- data.frame(x=numeric(), y=character(), stringsAsFactors=F)
obsCount <- numeric(0)
print(paste(" id", "nobs", collapse = " "))
for (i in id) {
filePath <-paste(directory, "/", sprintf("%03d", as.numeric(i)), ".csv", sep="")
dataComplete <-read.csv(filePath, header = T)
obsCount <- sum(complete.cases(dataComplete))
prLn1 <- sprintf("%" "2d", as.numeric(i))
print(paste(prLn1, sprintf("% 4d", as.numeric(obsCount)), sep=" "))
dataReturrn <- rbind(dataReturn, data.frame(x = toString(i), y = obsCount))
i<-i+1
}
dataReturn
}
complete <- function(directory, id = 1:332){
dirName <- directory
filesInDir <- list.files(dirName,full.names=T)
dataComplete <- data.frame()
numberOfRows <- length(id)
dataReturn <- data.frame(x=numeric(), y=character(), stringsAsFactors=F)
obsCount <- numeric(0)
print(paste(" id", "nobs", collapse = " "))
for (i in id) {
filePath <-paste(directory, "/", sprintf("%03d", as.numeric(i)), ".csv", sep="")
dataComplete <-read.csv(filePath, header = T)
obsCount <- sum(complete.cases(dataComplete))
prLn1 <- sprintf("% 3d", as.numeric(i))
print(paste(prLn1, sprintf("% 4d", as.numeric(obsCount)), sep=" "))
dataReturrn <- rbind(dataReturn, data.frame(x = toString(i), y = obsCount))
i<-i+1
}
dataReturn
}
xxx <- complete("specdata", c(6,10,20,34,100,200,310))
source('~/GitHub/datasciencecoursera/complete.r')
complete <- function(directory, id = 1:332){
dirName <- directory
filesInDir <- list.files(dirName,full.names=T)
dataComplete <- data.frame()
numberOfRows <- length(id)
dataReturn <- data.frame(x=numeric(), y=character(), stringsAsFactors=F)
obsCount <- numeric(0)
print(paste(" id", "nobs", collapse = " "))
for (i in id) {
filePath <-paste(directory, "/", sprintf("%03d", as.numeric(i)), ".csv", sep="")
dataComplete <-read.csv(filePath, header = T)
obsCount <- sum(complete.cases(dataComplete))
#    prLn1 <- sprintf("% 3d", as.numeric(i))
#    print(paste(prLn1, sprintf("% 4d", as.numeric(obsCount)), sep=" "))
dataReturrn <- rbind(dataReturn, data.frame(x = toString(i), y = obsCount))
i<-i+1
}
dataReturn
}
xxx <- complete("specdata", c(6,10,20,34,100,200,310))
xxx
str(xxx)
complete("specdata", c(6,10,20,34,100,200,310))
complete <- function(directory, id = 1:332){
dirName <- directory
filesInDir <- list.files(dirName,full.names=T)
dataComplete <- data.frame()
numberOfRows <- length(id)
dataReturn <- data.frame(x=numeric(), y=character(), stringsAsFactors=F)
obsCount <- numeric(0)
print(paste(" id", "nobs", collapse = " "))
for (i in id) {
filePath <-paste(directory, "/", sprintf("%03d", as.numeric(i)), ".csv", sep="")
dataComplete <-read.csv(filePath, header = T)
obsCount <- sum(complete.cases(dataComplete))
#    prLn1 <- sprintf("% 3d", as.numeric(i))
#    print(paste(prLn1, sprintf("% 4d", as.numeric(obsCount)), sep=" "))
dataReturn <- rbind(dataReturn, data.frame(x = toString(i), y = obsCount))
i<-i+1
}
dataReturn
}
complete("specdata", c(6,10,20,34,100,200,310))
complete <- function(directory, id = 1:332){
dirName <- directory
filesInDir <- list.files(dirName,full.names=T)
dataComplete <- data.frame()
numberOfRows <- length(id)
dataReturn <- data.frame(id=numeric(), nobs=character(), stringsAsFactors=F)
obsCount <- numeric(0)
#  print(paste(" id", "nobs", collapse = " "))
for (i in id) {
filePath <-paste(directory, "/", sprintf("%03d", as.numeric(i)), ".csv", sep="")
dataComplete <-read.csv(filePath, header = T)
obsCount <- sum(complete.cases(dataComplete))
#    prLn1 <- sprintf("% 3d", as.numeric(i))
#    print(paste(prLn1, sprintf("% 4d", as.numeric(obsCount)), sep=" "))
dataReturn <- rbind(dataReturn, data.frame(x = toString(i), y = obsCount))
i<-i+1
}
dataReturn
}
complete("specdata", c(6,10,20,34,100,200,310))
complete <- function(directory, id = 1:332){
dirName <- directory
filesInDir <- list.files(dirName,full.names=T)
dataComplete <- data.frame()
numberOfRows <- length(id)
dataReturn <- data.frame(id=numeric(), nobs=character(), stringsAsFactors=F)
obsCount <- numeric(0)
#  print(paste(" id", "nobs", collapse = " "))
for (i in id) {
filePath <-paste(directory, "/", sprintf("%03d", as.numeric(i)), ".csv", sep="")
dataComplete <-read.csv(filePath, header = T)
obsCount <- sum(complete.cases(dataComplete))
#    prLn1 <- sprintf("% 3d", as.numeric(i))
#    print(paste(prLn1, sprintf("% 4d", as.numeric(obsCount)), sep=" "))
dataReturn <- rbind(dataReturn, data.frame(id = toString(i), nobs = obsCount))
i<-i+1
}
dataReturn
}
complete("specdata", c(6,10,20,34,100,200,310))
source('~/GitHub/datasciencecoursera/complete.r')
source('~/GitHub/datasciencecoursera/complete.r')
source('~/GitHub/datasciencecoursera/corr.r')
filesInDir <- list.files("specdata",full.names=T)
length(filesInDir)
source('~/GitHub/datasciencecoursera/corr.r')
source('~/GitHub/datasciencecoursera/corr.r')
source('~/GitHub/datasciencecoursera/corrOr.R')
corr <- function(directory, threshold = 0) {
corrsNum <- numeric(0)
nobsDfr <- complete("specdata")
nobsDfr <- nobsDfr[nobsDfr$nobs > threshold, ]
for (i in nobsDfr$id) {
fileStr <- paste(directory, "/", sprintf("%03d", as.numeric(id)), ".csv",
sep = "")
monDfr <- read.csv(fileStr)
#    monDfr <- getmonitor(i, directory)
corrsNum <- c(corrsNum, cor(monDfr$sulfate, monDfr$nitrate, use = "pairwise.complete.obs"))
}
return(corrsNum)
}
source('~/GitHub/datasciencecoursera/corrOr.R')
corr <- function(directory, threshold = 0) {
## 'directory' is a character vector of length 1 indicating
## the location of the CSV files
files <- dir(directory, full.names = TRUE)      #list of files
#numfiles <- length(files)
data <- data.frame()     #empty list
df <- data.frame()
correlation <- vector()
for (i in 1:length(files)) {
df <- rbind(df, read.csv(files[i]))
rrows<-nrow(df)
if (rrows > threshold){
correlation <- c(as.numeric(cor(df)))
}
}
return(correlation)
}
source('~/GitHub/datasciencecoursera/corrOr.R')
corr <- function(directory, threshold = 0) {
# --- Assert 'directory' is a character vector of length 1 indicating the
# location of the CSV files. 'threshold' is a numeric vector of length 1
# indicating the number of completely observed observations (on all
# variables) required to compute the correlation between nitrate and
# sulfate; the default is 0. Return a numeric vector of correlations.
# --- Assert create an empty numeric vector
corrsNum <- numeric(0)
# --- Assert get a data frame as ID = 1:332
nobsDfr <- complete("specdata")
# --- Assert apply threshold
nobsDfr <- nobsDfr[nobsDfr$nobs > threshold, ]
for (cid in nobsDfr$id) {
# --- Assert get a data frame as ID in $id
monDfr <- getmonitor(cid, directory)
# --- Assert calculate correlation between $sulfate and $nitrate
corrsNum <- c(corrsNum, cor(monDfr$sulfate, monDfr$nitrate, use = "pairwise.complete.obs"))
}
# --- Assert return value is a numeric vector of correlations
return(corrsNum)
}
getmonitor <- function(id, directory, summarize = FALSE) {
# --- Assert 'id' is a vector of length 1 indicating the monitor ID
# number. The user can specify 'id' as either an integer, a character, or
# a numeric. 'directory' is a character vector of length 1 indicating the
# location of the CSV files 'summarize' is a logical indicating whether a
# summary of the data should be printed to the console; the default is
# FALSE
# --- Assert construct file name Directory is pre-appended to file name.
# Use sprintf() to add leading zeroes. E.g. 'specdata/001.csv'
fileStr <- paste(directory, "/", sprintf("%03d", as.numeric(id)), ".csv",
sep = "")
# --- Assert read csv
rawDfr <- read.csv(fileStr)
# --- Assert summary if true
if (summarize) {
print(summary(rawDfr))
}
# --- Return value is a data frame
return(rawDfr)
}
source('~/GitHub/datasciencecoursera/corrOr.R')
rawDataDirectory <- <- list.files(dirName,full.names=T)
rawDataDirectory <- list.files(dirName,full.names=T)
length(rawDataDirectory)
fileCount = length(rawDataDirectory)
fileCount
emptyDF <- rbind(emptyDF, read.csv(files[i]))
emptyDF <- data.frame()
emptyDF <- rbind(emptyDF, read.csv(files[1]))
emptyDF <- rbind(emptyDF, read.csv("001.csv"))
emptyDF <- data.frame()
emptyDF <- rbind(emptyDF, read.csv("001.csv"))
emptyDF <- rbind(emptyDF, read.csv("001.csv"))
corr <- function(directory, threshold = 0) {
rawDataDirectory <- list.files(dirName,full.names=T)
fileCount = length(rawDataDirectory)
emptyDF <- data.frame()
corRelVec <- vector()
for i 1:fileCount{
rawData <- data.frame()
emptyDF <- rbind(emptyDF, read.csv(files[i]))
OmitNA <- na.omit(emptyDF)
}
}
corr <- function(directory, threshold = 0) {
rawDataDirectory <- list.files(dirName,full.names=T)
fileCount = length(rawDataDirectory)
emptyDF <- data.frame()
corRelVec <- vector()
for i 1:fileCount{
rawData <- data.frame()
emptyDF <- rbind(emptyDF, read.csv(files[i]))
OmitNA <- na.omit(emptyDF)
}
}
corr <- function(directory, threshold = 0) {
rawDataDirectory <- list.files(dirName,full.names=T)
fileCount = length(rawDataDirectory)
emptyDF <- data.frame()
corRelVec <- vector()
for i 1:fileCount{
rawData <- data.frame()
emptyDF <- rbind(emptyDF, read.csv(files[i]))
#    OmitNA <- na.omit(emptyDF)
}
}
corr <- function(directory, threshold = 0) {
rawDataDirectory <- list.files(dirName,full.names=T)
fileCount = length(rawDataDirectory)
emptyDF <- data.frame()
corRelVec <- vector()
for i 1:fileCount{
rawData <- data.frame()
#   emptyDF <- rbind(emptyDF, read.csv(files[i]))
#    OmitNA <- na.omit(emptyDF)
}
}
corr <- function(directory, threshold = 0){
rawDataDirectory <- list.files(dirName,full.names=T)
fileCount = length(rawDataDirectory)
emptyDF <- data.frame()
corRelVec <- vector()
for i 1:fileCount{
rawData <- data.frame()
#   emptyDF <- rbind(emptyDF, read.csv(files[i]))
#    OmitNA <- na.omit(emptyDF)
}
}
corr <- function(directory, threshold = 0){
rawDataDirectory <- list.files(dirName,full.names=T)
fileCount = length(rawDataDirectory)
emptyDF <- data.frame()
corRelVec <- vector()
}
corr <- function(directory, threshold = 0){
rawDataDirectory <- list.files(dirName,full.names=T)
fileCount = length(rawDataDirectory)
emptyDF <- data.frame()
corRelVec <- vector()
for i in 1:fileCount {
}
}
corr <- function(directory, threshold = 0){
rawDataDirectory <- list.files(dirName,full.names=T)
fileCount = length(rawDataDirectory)
emptyDF <- data.frame()
corRelVec <- vector()
for (i in 1:fileCount) {
}
}
corr <- function(directory, threshold = 0){
rawDataDirectory <- list.files(dirName,full.names=T)
fileCount = length(rawDataDirectory)
emptyDF <- data.frame()
corRelVec <- vector()
for (i in 1:fileCount) {
rawData <- data.frame()
emptyDF <- rbind(emptyDF, read.csv(files[i]))
OmitNA <- na.omit(emptyDF)
}
}
emptyDF <- data.frame()
emptyDF <- rbind(emptyDF, read.csv("001.csv"))
getwd()
source('~/GitHub/datasciencecoursera/corrOr.R')
rawDataDirectory <- list.files(dirName,full.names=T)
str(rawDataDirectory)
rawDataDirectory[3]
emptyDF <- rbind(emptyDF, read.csv(rawDataDirectory[i]))
omitNA <- na.omit(emptyDF)
omitNA
countDiff <- length(emptyDf) - length(OmitNA)
emptyDF <- rbind(emptyDF, read.csv(rawDataDirectory[i]))
countDiff <- length(emptyDf) - length(OmitNA)
omitNa
emptyDF <- data.frame()
emptyDF <- rbind(emptyDF, read.csv(rawDataDirectory[3]))
length(emptyDf)
emptyDF
nrow(emptyDF)
nrow(OmitDf)
OmitNA <- na.omit(emptyDF)
nrow(OmitNA)
countDiff <- nrow(emptyDF) - nrow(OmitNa)
countDiff <- nrow(emptyDF) - nrow(OmitNA)
countDiff
corr <- function(directory, threshold = 0) {
corrsNum <- numeric(0)
nobsDfr <- complete("specdata")
nobsDfr <- nobsDfr[nobsDfr$nobs > threshold, ]
for (cid in nobsDfr$id) {
rawDfr <- data.frame()
fileStr <- paste(directory, "/", sprintf("%03d", as.numeric(cid)), ".csv",sep = "")
rawDfr <- read.csv(fileStr)
corrsNum <- c(corrsNum, cor(rawDfr$sulfate, rawDfr$nitrate, use = "pairwise.complete.obs"))
}
return(corrsNum)
}
source('~/GitHub/datasciencecoursera/corrOr.R')
corr <- function(directory, threshold = 0) {
corrsNum <- numeric(0)
nobsDfr <- complete("specdata")
nobsDfr <- nobsDfr[nobsDfr$nobs > threshold, ]
for (cid in nobsDfr$id) {
rawDfr <- data.frame()
fileStr <- paste(directory, "/", sprintf("%03d", as.numeric(cid)), ".csv",sep = "")
rawDfr <- read.csv(fileStr)
corrsNum <- c(corrsNum, cor(rawDfr$sulfate, rawDfr$nitrate, use = "pairwise.complete.obs"))
}
return(corrsNum)
}
source('~/GitHub/datasciencecoursera/corr.r')
